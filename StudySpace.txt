# StudySpace

**Plateforme collaborative en ligne pour Ã©tudiants**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Version](https://img.shields.io/badge/version-1.0.0-green.svg)](https://github.com/studyspace/studyspace)
[![Status](https://img.shields.io/badge/status-MVP-orange.svg)](https://github.com/studyspace/studyspace)

---

## ğŸ“– Table des matiÃ¨res

- [Vue d'ensemble](#-vue-densemble)
- [ProblÃ¨me & Solution](#-problÃ¨me--solution)
- [FonctionnalitÃ©s](#-fonctionnalitÃ©s)
- [Technologies](#-technologies)
- [Architecture](#-architecture)
- [Installation](#-installation)
- [Configuration](#-configuration)
- [DÃ©veloppement](#-dÃ©veloppement)
- [DÃ©ploiement](#-dÃ©ploiement)
- [Roadmap](#-roadmap)
- [Contribution](#-contribution)
- [License](#-license)

---

## ğŸ¯ Vue d'ensemble

**StudySpace** est une plateforme de classe virtuelle conÃ§ue spÃ©cifiquement pour les Ã©tudiants qui travaillent ensemble Ã  distance. Elle combine visioconfÃ©rence lÃ©gÃ¨re, tableau blanc collaboratif, Ã©diteur d'Ã©quations mathÃ©matiques WYSIWYG et gestion automatique de l'historique dans une interface unifiÃ©e.

### Pourquoi StudySpace ?

Les Ã©tudiants jonglent actuellement entre 3-4 applications diffÃ©rentes :
- **Discord** pour la communication vocale
- **Google Docs** pour les notes
- **WhatsApp** pour partager des fichiers
- **Zoom/Meet** pour la vidÃ©o

StudySpace remplace tout Ã§a par une **expÃ©rience unifiÃ©e** pensÃ©e pour le travail collaboratif Ã©tudiant.

---

## ğŸ” ProblÃ¨me & Solution

### ProblÃ¨me

Les Ã©tudiants qui travaillent Ã  distance font face Ã  :

1. **Fragmentation** : Basculer entre 3-4 apps casse le flow de travail
2. **DÃ©sorganisation** : Impossible de retrouver ce qui a Ã©tÃ© fait lors d'une session prÃ©cÃ©dente
3. **Outils inadaptÃ©s** : Ã‰crire des Ã©quations mathÃ©matiques proprement est un calvaire
4. **Coordination difficile** : Partager des fichiers, coordonner la parole, dessiner ensemble = chaos

### Solution

Une plateforme tout-en-un qui :

âœ… **IntÃ¨gre** visio + tableau + notes + fichiers dans une seule interface  
âœ… **Organise** automatiquement l'historique en sÃ©ances chronologiques (comme un cahier de cours)  
âœ… **Permet** d'Ã©crire des Ã©quations mathÃ©matiques visuellement (pas de LaTeX compliquÃ©)  
âœ… **Synchronise** tout en temps rÃ©el pour tous les participants  

---

## âœ¨ FonctionnalitÃ©s

### FonctionnalitÃ©s MVP (v1.0)

#### ğŸ¥ VisioconfÃ©rence intÃ©grÃ©e
- Activation/dÃ©sactivation cam et micro individuellement
- Vignettes vidÃ©o compactes en haut de l'interface
- Indicateur visuel de qui parle
- Support de 5-10 participants simultanÃ©s
- QualitÃ© adaptative selon la connexion

#### ğŸ–¼ï¸ Tableau blanc collaboratif
- Dessin libre en temps rÃ©el
- Formes simples (rectangle, ellipse, ligne, flÃ¨che)
- Zones de texte Ã©ditables
- DÃ©placement et redimensionnement des Ã©lÃ©ments
- Couleurs et Ã©paisseurs de trait
- Gomme et undo/redo
- Zoom et pan

#### âœï¸ Ã‰diteur d'Ã©quations WYSIWYG
- Interface visuelle type "Word" pour crÃ©er des Ã©quations
- Fractions, racines, exposants, indices
- IntÃ©grales, sommes, produits
- Matrices simples
- Insertion dans le tableau blanc ou l'Ã©diteur de texte
- Rendu LaTeX en arriÃ¨re-plan

#### ğŸ“ Ã‰diteur de texte collaboratif
- Ã‰criture en temps rÃ©el
- Mise en forme basique (gras, italique, listes)
- Insertion d'Ã©quations depuis l'Ã©diteur WYSIWYG
- Indicateurs de curseur des autres utilisateurs
- Sauvegarde automatique

#### ğŸ“ Gestion de fichiers
- Upload par glisser-dÃ©poser
- Formats : PDF, images (JPG, PNG), documents (DOCX)
- Limite : 50 MB par fichier
- Affichage dans panneau latÃ©ral

#### ğŸ’¬ Mini-chat textuel
- Chat simple pour partager liens et infos rapides
- Notifications visuelles discrÃ¨tes
- Ã‰phÃ©mÃ¨re (disparaÃ®t Ã  la fin de la sÃ©ance)

#### ğŸ“… SystÃ¨me de sÃ©ances
- Bouton "Commencer une sÃ©ance" au dÃ©but du travail
- Timer automatique de durÃ©e
- Sauvegarde continue de tout le contenu
- GÃ©nÃ©ration automatique d'une entrÃ©e dans l'historique
- Horodatage prÃ©cis (date + heure + durÃ©e)

#### ğŸ—‚ï¸ Historique chronologique
- Liste de toutes les sÃ©ances passÃ©es
- Format : "SÃ©ance du 18 nov - 2h30"
- Vue dÃ©taillÃ©e d'une sÃ©ance (tableau + notes + fichiers)
- PossibilitÃ© de reprendre oÃ¹ on s'Ã©tait arrÃªtÃ©

#### ğŸ·ï¸ SystÃ¨me de tags
- Tags visuels pour identifier les workspaces (Maths, Info, Physique, etc.)
- 7 tags prÃ©dÃ©finis avec couleurs associÃ©es
- Organisation visuelle des espaces de travail

---

## ğŸ› ï¸ Technologies

### Frontend

| Technologie | Version | Usage |
|-------------|---------|-------|
| **React** | 18.3 | Library UI principale |
| **Next.js** | 14.2 | Framework React avec App Router |
| **TypeScript** | 5.3 | Type safety |
| **TailwindCSS** | 3.4 | Styling utility-first |
| **shadcn/ui** | Latest | Composants UI (Radix UI + Tailwind) |

**Librairies spÃ©cialisÃ©es :**

| Librairie | Usage |
|-----------|-------|
| **Daily.co SDK** / **Agora** | VisioconfÃ©rence |
| **Konva.js** / **Fabric.js** | Canvas collaboratif (tableau blanc) |
| **MathLive** | Ã‰diteur d'Ã©quations WYSIWYG |
| **Yjs** | CRDT pour synchronisation temps rÃ©el |
| **TipTap** | Ã‰diteur de texte riche (basÃ© sur ProseMirror) |
| **Socket.IO Client** | WebSocket temps rÃ©el |
| **Zustand** | State management global |
| **React Hook Form** | Gestion de formulaires |
| **Zod** | Validation de schÃ©mas |

### Backend

| Technologie | Version | Usage |
|-------------|---------|-------|
| **Node.js** | 20 LTS | Runtime JavaScript |
| **Express** / **Fastify** | Latest | Framework API REST |
| **TypeScript** | 5.3 | Type safety |
| **Socket.IO** | 4.7 | WebSocket pour temps rÃ©el |
| **PostgreSQL** | 16 | Base de donnÃ©es relationnelle |
| **Prisma** | 5.x | ORM TypeScript-first |
| **Redis** | 7.x | Cache & session store |

**Librairies backend :**

| Librairie | Usage |
|-----------|-------|
| **bcrypt** | Hash de mots de passe |
| **jsonwebtoken** | Authentification JWT |
| **Zod** | Validation des requÃªtes |
| **Winston** | Logging |
| **Helmet** | SÃ©curitÃ© HTTP headers |
| **Express Rate Limit** | Rate limiting |

### Infrastructure & DevOps

| Service | Usage | CoÃ»t (MVP) |
|---------|-------|------------|
| **Vercel** | HÃ©bergement frontend | Gratuit (Hobby) |
| **Railway** / **Render** | HÃ©bergement backend | $5-15/mois |
| **Neon** / **Supabase** | PostgreSQL managÃ© | Gratuit (3GB) |
| **Upstash Redis** | Redis managÃ© | Gratuit (10K cmds/jour) |
| **Cloudflare R2** | Stockage fichiers (S3-compatible) | Gratuit (10GB) |
| **GitHub Actions** | CI/CD | Gratuit (2000 min/mois) |
| **Sentry** | Error tracking | Gratuit (5K errors/mois) |
| **Posthog** / **Mixpanel** | Analytics | Gratuit (1M events/mois) |

### Outils de dÃ©veloppement

| Outil | Usage |
|-------|-------|
| **ESLint** | Linting JavaScript/TypeScript |
| **Prettier** | Formatage de code |
| **Husky** | Git hooks |
| **lint-staged** | Lint sur fichiers staged |
| **Vitest** | Tests unitaires |
| **React Testing Library** | Tests de composants |
| **Playwright** | Tests end-to-end |
| **Figma** | Design & prototypage |

---

## ğŸ—ï¸ Architecture

### Architecture globale

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Client (Browser)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Next.js App (React)                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚  â”‚  Canvas  â”‚  â”‚  Editor  â”‚  â”‚  Video   â”‚     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                    â”‚                         â”‚
â”‚      HTTP REST           WebSocket (Socket.IO)          â”‚
â”‚           â”‚                    â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚                    â”‚
            â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Backend (Node.js)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  REST API      â”‚          â”‚  Socket Server â”‚         â”‚
â”‚  â”‚  (Express)     â”‚          â”‚  (Socket.IO)   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                           â”‚                   â”‚
â”‚           â–¼                           â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Services     â”‚          â”‚  Redis (Cache) â”‚         â”‚
â”‚  â”‚   (Business)   â”‚          â”‚  (Presence)    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                                               â”‚
â”‚           â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   PostgreSQL   â”‚          â”‚   Cloudflare   â”‚         â”‚
â”‚  â”‚   (Neon)       â”‚          â”‚   R2 (Files)   â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Agora / Daily.co            â”‚
â”‚   (Visio Infrastructure)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Architecture frontend (React)

```
/apps/web/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/                   # Routes authentifiÃ©es
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â””â”€â”€ register/
â”‚   â”œâ”€â”€ (dashboard)/              # Routes protÃ©gÃ©es
â”‚   â”‚   â”œâ”€â”€ workspaces/
â”‚   â”‚   â”œâ”€â”€ workspace/[id]/
â”‚   â”‚   â””â”€â”€ settings/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                       # shadcn/ui components
â”‚   â”‚   â”œâ”€â”€ button.tsx
â”‚   â”‚   â”œâ”€â”€ input.tsx
â”‚   â”‚   â”œâ”€â”€ card.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ workspace/                # Composants workspace
â”‚   â”‚   â”œâ”€â”€ Canvas.tsx            # Tableau blanc
â”‚   â”‚   â”œâ”€â”€ TextEditor.tsx        # Ã‰diteur collaboratif
â”‚   â”‚   â”œâ”€â”€ EquationEditor.tsx    # Ã‰diteur d'Ã©quations
â”‚   â”‚   â”œâ”€â”€ VideoBar.tsx          # Barre vidÃ©o
â”‚   â”‚   â””â”€â”€ FilePanel.tsx         # Panneau fichiers
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â””â”€â”€ RegisterForm.tsx
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ Header.tsx
â”‚       â”œâ”€â”€ Sidebar.tsx
â”‚       â””â”€â”€ Toast.tsx
â”‚
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”œâ”€â”€ useWorkspace.ts
â”‚   â”œâ”€â”€ useRealtime.ts
â”‚   â”œâ”€â”€ useCanvas.ts
â”‚   â””â”€â”€ useVideo.ts
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api.ts                    # Client API
â”‚   â”œâ”€â”€ socket.ts                 # Socket.IO client
â”‚   â”œâ”€â”€ video.ts                  # Daily.co/Agora wrapper
â”‚   â”œâ”€â”€ utils.ts                  # Utilitaires
â”‚   â””â”€â”€ validators.ts             # SchÃ©mas Zod
â”‚
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ authStore.ts              # Zustand store auth
â”‚   â”œâ”€â”€ workspaceStore.ts         # Zustand store workspace
â”‚   â””â”€â”€ canvasStore.ts            # Zustand store canvas
â”‚
â””â”€â”€ styles/
    â””â”€â”€ globals.css               # Styles globaux + Tailwind
```

### Architecture backend (Node.js)

```
/apps/api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ auth.routes.ts
â”‚   â”‚   â”œâ”€â”€ workspace.routes.ts
â”‚   â”‚   â”œâ”€â”€ session.routes.ts
â”‚   â”‚   â”œâ”€â”€ file.routes.ts
â”‚   â”‚   â””â”€â”€ user.routes.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ auth.controller.ts
â”‚   â”‚   â”œâ”€â”€ workspace.controller.ts
â”‚   â”‚   â”œâ”€â”€ session.controller.ts
â”‚   â”‚   â””â”€â”€ file.controller.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ auth.service.ts       # Business logic auth
â”‚   â”‚   â”œâ”€â”€ workspace.service.ts  # Business logic workspace
â”‚   â”‚   â”œâ”€â”€ session.service.ts
â”‚   â”‚   â”œâ”€â”€ file.service.ts
â”‚   â”‚   â””â”€â”€ email.service.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ prisma/
â”‚   â”‚       â””â”€â”€ schema.prisma     # SchÃ©ma base de donnÃ©es
â”‚   â”‚
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.middleware.ts    # JWT verification
â”‚   â”‚   â”œâ”€â”€ validate.middleware.ts # Zod validation
â”‚   â”‚   â”œâ”€â”€ rateLimit.middleware.ts
â”‚   â”‚   â””â”€â”€ error.middleware.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ sockets/
â”‚   â”‚   â”œâ”€â”€ index.ts              # Socket.IO setup
â”‚   â”‚   â”œâ”€â”€ workspace.socket.ts   # Events workspace
â”‚   â”‚   â”œâ”€â”€ canvas.socket.ts      # Sync canvas
â”‚   â”‚   â””â”€â”€ presence.socket.ts    # PrÃ©sence utilisateurs
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ logger.ts             # Winston logger
â”‚   â”‚   â”œâ”€â”€ errors.ts             # Custom errors
â”‚   â”‚   â””â”€â”€ constants.ts
â”‚   â”‚
â”‚   â””â”€â”€ index.ts                  # Entry point
â”‚
â””â”€â”€ tests/
    â”œâ”€â”€ unit/
    â”œâ”€â”€ integration/
    â””â”€â”€ e2e/
```

### Base de donnÃ©es (SchÃ©ma simplifiÃ©)

```prisma
model User {
  id            String      @id @default(uuid())
  email         String      @unique
  passwordHash  String
  name          String
  createdAt     DateTime    @default(now())
  
  workspaces    WorkspaceMember[]
  sessions      Session[]
}

model Workspace {
  id          String      @id @default(uuid())
  name        String
  tag         String      @default("general")
  inviteCode  String      @unique
  createdAt   DateTime    @default(now())
  
  members     WorkspaceMember[]
  sessions    Session[]
  files       File[]
}

model WorkspaceMember {
  id          String      @id @default(uuid())
  role        String      @default("MEMBER") // OWNER | MEMBER
  joinedAt    DateTime    @default(now())
  
  userId      String
  user        User        @relation(...)
  workspaceId String
  workspace   Workspace   @relation(...)
}

model Session {
  id          String      @id @default(uuid())
  startedAt   DateTime    @default(now())
  endedAt     DateTime?
  duration    Int?        // en secondes
  canvasState Json?       // Ã‰tat du canvas
  editorState Json?       // Ã‰tat de l'Ã©diteur
  
  workspaceId String
  workspace   Workspace   @relation(...)
  createdById String
  createdBy   User        @relation(...)
}

model File {
  id          String      @id @default(uuid())
  name        String
  size        Int
  mimeType    String
  url         String
  uploadedAt  DateTime    @default(now())
  
  workspaceId String
  workspace   Workspace   @relation(...)
}
```

---

## ğŸš€ Installation

### PrÃ©requis

- **Node.js** : 20.x ou supÃ©rieur
- **pnpm** : 8.x (recommandÃ©) ou npm/yarn
- **PostgreSQL** : 16.x (ou Neon/Supabase)
- **Redis** : 7.x (ou Upstash)
- **Git**

### Cloner le repository

```bash
git clone https://github.com/studyspace/studyspace.git
cd studyspace
```

### Installer les dÃ©pendances

```bash
# Avec pnpm (recommandÃ©)
pnpm install

# Ou avec npm
npm install
```

### Structure du projet (monorepo)

```
studyspace/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ web/          # Frontend Next.js
â”‚   â””â”€â”€ api/          # Backend Node.js
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ types/        # Types TypeScript partagÃ©s
â”‚   â”œâ”€â”€ config/       # Configs ESLint, etc.
â”‚   â””â”€â”€ ui/           # Design system
â”œâ”€â”€ pnpm-workspace.yaml
â”œâ”€â”€ package.json
â””â”€â”€ turbo.json        # Turborepo config
```

---

## âš™ï¸ Configuration

### Variables d'environnement

#### Frontend (`apps/web/.env.local`)

```env
# API
NEXT_PUBLIC_API_URL=http://localhost:4000
NEXT_PUBLIC_WS_URL=ws://localhost:4000

# Video (Daily.co ou Agora)
NEXT_PUBLIC_DAILY_API_KEY=your_daily_api_key
# OU
NEXT_PUBLIC_AGORA_APP_ID=your_agora_app_id

# Analytics (optionnel)
NEXT_PUBLIC_POSTHOG_KEY=your_posthog_key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com
```

#### Backend (`apps/api/.env`)

```env
# Database
DATABASE_URL=postgresql://user:password@localhost:5432/studyspace

# Redis
REDIS_URL=redis://localhost:6379

# JWT
JWT_SECRET=your_super_secret_jwt_key_change_this
JWT_EXPIRES_IN=7d

# File Storage (Cloudflare R2 ou AWS S3)
R2_ACCOUNT_ID=your_account_id
R2_ACCESS_KEY_ID=your_access_key
R2_SECRET_ACCESS_KEY=your_secret_key
R2_BUCKET_NAME=studyspace-files

# Email (Resend)
RESEND_API_KEY=re_your_api_key

# Video (Daily.co ou Agora)
DAILY_API_KEY=your_daily_api_key
# OU
AGORA_APP_ID=your_agora_app_id
AGORA_APP_CERTIFICATE=your_agora_certificate

# Monitoring
SENTRY_DSN=your_sentry_dsn

# Environment
NODE_ENV=development
PORT=4000
```

### Setup base de donnÃ©es

```bash
# Depuis la racine du projet
cd apps/api

# GÃ©nÃ©rer le client Prisma
pnpm prisma generate

# CrÃ©er la base de donnÃ©es
pnpm prisma db push

# (Optionnel) Seed avec donnÃ©es de test
pnpm prisma db seed
```

---

## ğŸ’» DÃ©veloppement

### Lancer en mode dÃ©veloppement

**Option 1 : Tout en une fois (avec Turborepo)**

```bash
# Depuis la racine
pnpm dev

# Lance simultanÃ©ment :
# - Frontend sur http://localhost:3000
# - Backend sur http://localhost:4000
```

**Option 2 : SÃ©parÃ©ment**

```bash
# Terminal 1 : Frontend
cd apps/web
pnpm dev

# Terminal 2 : Backend
cd apps/api
pnpm dev
```

### Scripts disponibles

**Frontend (`apps/web`) :**

```bash
pnpm dev          # Dev server (hot reload)
pnpm build        # Build production
pnpm start        # Start production build
pnpm lint         # Lint avec ESLint
pnpm type-check   # VÃ©rification TypeScript
pnpm test         # Tests unitaires (Vitest)
pnpm test:e2e     # Tests E2E (Playwright)
```

**Backend (`apps/api`) :**

```bash
pnpm dev          # Dev server avec hot reload (nodemon)
pnpm build        # Compile TypeScript
pnpm start        # Start production
pnpm lint         # Lint
pnpm test         # Tests unitaires
pnpm test:int     # Tests d'intÃ©gration
pnpm prisma:studio # Interface visuelle DB
```

### Tests

```bash
# Tests unitaires (Vitest)
pnpm test

# Tests E2E (Playwright)
pnpm test:e2e

# Coverage
pnpm test:coverage

# Tests en mode watch
pnpm test:watch
```

### Linting & Formatting

```bash
# Lint tout le projet
pnpm lint

# Fix auto les erreurs
pnpm lint:fix

# Format avec Prettier
pnpm format

# Check formatting
pnpm format:check
```

### Git Hooks (Husky)

ConfigurÃ©s automatiquement :

- **pre-commit** : Lint + Format des fichiers staged
- **pre-push** : Tests + Type check

---

## ğŸš¢ DÃ©ploiement

### Frontend (Vercel)

**1. Connecter GitHub Ã  Vercel**

```bash
# Ou via CLI
vercel

# Suivre les instructions
```

**2. Configuration Vercel**

```
Build Command: cd ../.. && pnpm build --filter=web
Output Directory: apps/web/.next
Install Command: pnpm install
```

**3. Variables d'environnement**

Ajouter dans Vercel Dashboard :
- `NEXT_PUBLIC_API_URL`
- `NEXT_PUBLIC_WS_URL`
- `NEXT_PUBLIC_DAILY_API_KEY` ou `NEXT_PUBLIC_AGORA_APP_ID`

### Backend (Railway)

**1. CrÃ©er un nouveau projet**

```bash
# Installer Railway CLI
npm i -g @railway/cli

# Login
railway login

# Init projet
railway init

# Link au projet
railway link
```

**2. DÃ©ployer**

```bash
railway up
```

**3. Ajouter les services**

- PostgreSQL (addon Railway)
- Redis (addon Railway)
- Variables d'environnement (comme en local)

### CI/CD (GitHub Actions)

Fichier `.github/workflows/deploy.yml` :

```yaml
name: Deploy

on:
  push:
    branches: [main]

jobs:
  deploy-frontend:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: 20
      - run: pnpm install
      - run: pnpm build --filter=web
      - uses: amondnet/vercel-action@v20
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.ORG_ID }}
          vercel-project-id: ${{ secrets.PROJECT_ID }}

  deploy-backend:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: railway up
        env:
          RAILWAY_TOKEN: ${{ secrets.RAILWAY_TOKEN }}
```

---

## ğŸ—ºï¸ Roadmap

### MVP (v1.0) - âœ… En cours

- [x] Authentication (email/password)
- [x] CrÃ©ation de workspaces
- [x] Invitation par lien
- [x] Tableau blanc collaboratif
- [x] Ã‰diteur d'Ã©quations WYSIWYG
- [x] Ã‰diteur de texte collaboratif
- [x] Visio intÃ©grÃ©e
- [x] Upload de fichiers
- [x] SystÃ¨me de sÃ©ances
- [x] Historique chronologique

### Phase 2 (v1.1) - Q1 2026

- [ ] Tags personnalisÃ©s crÃ©Ã©s par utilisateurs
- [ ] Partage d'Ã©cran
- [ ] Annotations PDF intÃ©grÃ©es
- [ ] Export PDF des sÃ©ances
- [ ] Recherche dans l'historique
- [ ] Notifications push
- [ ] Application mobile (React Native)

### Phase 3 (v1.2) - Q2 2026

- [ ] Enregistrement de sessions (vidÃ©o + canvas)
- [ ] Calendrier de sessions planifiÃ©es
- [ ] IntÃ©gration Google Calendar
- [ ] Mode "prÃ©sentation" (un seul contrÃ´le)
- [ ] Sondages rapides intÃ©grÃ©s
- [ ] Statistiques d'utilisation

### Phase 4 (v2.0) - Q3 2026

- [ ] RÃ©sumÃ©s automatiques par IA
- [ ] Transcription des conversations
- [ ] DÃ©tection automatique d'Ã©quations manuscrites
- [ ] Suggestions de ressources IA
- [ ] Mode "focus" avec timer Pomodoro
- [ ] Gamification (badges, objectifs)

---

## ğŸ¤ Contribution

Les contributions sont les bienvenues ! Veuillez consulter [CONTRIBUTING.md](CONTRIBUTING.md) pour les guidelines.

### Process de contribution

1. Fork le projet
2. CrÃ©er une branche feature (`git checkout -b feature/AmazingFeature`)
3. Commit les changements (`git commit -m 'Add AmazingFeature'`)
4. Push vers la branche (`git push origin feature/AmazingFeature`)
5. Ouvrir une Pull Request

### Conventions

- Lire le [Guide de dÃ©veloppement](docs/DEVELOPMENT_GUIDE.md)
- Suivre les conventions de nommage
- Ã‰crire des tests pour les nouvelles features
- Mettre Ã  jour la documentation

---

## ğŸ“„ License

Ce projet est sous licence MIT. Voir le fichier [LICENSE](LICENSE) pour plus de dÃ©tails.

---

## ğŸ‘¥ Ã‰quipe

**CrÃ©ateur :** [Ton Nom]  
**Email :** contact@studyspace.app  
**Website :** https://studyspace.app

---

## ğŸ™ Remerciements

- [shadcn/ui](https://ui.shadcn.com/) pour les composants UI
- [Daily.co](https://daily.co/) / [Agora](https://www.agora.io/) pour l'infrastructure vidÃ©o
- [MathLive](https://cortexjs.io/mathlive/) pour l'Ã©diteur d'Ã©quations
- [Yjs](https://yjs.dev/) pour la synchronisation CRDT
- [Vercel](https://vercel.com/) pour l'hÃ©bergement

---

## ğŸ“ Support

- **Documentation :** [docs.studyspace.app](https://docs.studyspace.app)
- **Discord :** [discord.gg/studyspace](https://discord.gg/studyspace)
- **Email :** support@studyspace.app
- **Twitter :** [@studyspace_app](https://twitter.com/studyspace_app)

---

**Fait avec â¤ï¸ pour les Ã©tudiants qui travaillent ensemble Ã  distance**